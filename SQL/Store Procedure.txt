
alter PROCEDURE InsertTrain
	@TrainId int,
	@TrainNo int,
	@TrainName varchar(20),
	@SourceId int,
	@DestinationId int,
	@NoOfSeat int,
	@OPType varchar(5)
AS
BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
SET NOCOUNT ON;

If(@TrainId=0 Or @OPType='i')
BEGIN
Insert into Train values(@TrainNo,@TrainName,@SourceId,@DestinationId,@NoOfSeat)
END

ELSE
BEGIN
If(@OPType='U')
BEGIN
update Train set TrainNo=@TrainNo,TrainName=@TrainName,SourceId=@SourceId,@DestinationId=@DestinationId ,NoOfSeat=@NoOfSeat where TrainId=@TrainId
END

ELSE
BEGIN
If(@OPType='D')
BEGIN
delete from Train where TrainId=@TrainId
END
END
END
END
GO