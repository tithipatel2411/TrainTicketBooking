@model OLX.Models.User.ChatMddual

@*@model OLXCHAT3.Models.ChatMddual*@

@*@using OLXCHAT3.Model;
    @model models*@




@*<script>
        function Chat() {
            //let BOSID = document.getElementById("BOSID").value;
            //if (BOSID === 0) {
            //    document.body.style.backgroundColor="blue";

            //}
            document.addEventListener("DOMContentLoaded", function () {
                var rows = document.querySelectorAll("tr.blue-bg");
                rows.forEach(function (row) {
                    row.style.backgroundColor = "blue";
                });
            });
        }

    </script>

    <h2>Index</h2>
    <table class="table" on="return Chat()">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.ChatId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.UserId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ProductId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.BuyOrSellId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Chat)
                </th>
                <th></th>
            </tr>


            @foreach (var item in Model)
            {
                <tr class="@(item.BuyOrSellId == 0 ? "blue-bg" : "")">
                    <td>
                        @Html.DisplayFor(modelItem => item.ChatId )
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.UserId)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ProductId)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.BuyOrSellId)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Chat)
                    </td>

                </tr>
            }
        </table>*@
@*<table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ChatId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UserId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ProductId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.BuyOrSellId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Chat)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr class="@(item.BuyOrSellId == 0 ? "light-blue-bg" : "")">
                <td>
                    @Html.DisplayFor(modelItem => item.ChatId);
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.UserId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ProductId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.BuyOrSellId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Chat)
                </td>
            </tr>
        }
    </table>*@

<div>
    <h3>@TempData["InsertMsg"]</h3>
    <header style="background-color:white;height:50px;width:70%; border:1px solid;float:right">
        <h1>ProductId</h1>
    </header>
    <header style="background-color: white; height: 50px; width: 30%; border: 1px solid; background-color: rgba(235,238,239,1); ">
        <h1 style="text-align:center">inbox</h1>
    </header>
</div>

<div class="Scroll_bar">
    <table class="table" style="float:right; width:59% ">

        @if (Model != null && Model.model != null)
        {
            foreach (var item in Model.model)
            {

                <tr class="@(item.BuyOrSellId == 0  ? "light-blue-bg" : "")">
                    <td style="float:right;" class="ab">
                        @Html.DisplayFor(modelItem => item.Chat1)<br />
                        <div style="float:right;">
                            @Html.DisplayFor(modelItem => item.firstName)
                        </div>
                    </td>

                </tr>
                <tr>
                </tr>
                <tr></tr>
            }
        }

    </table>

</div>

<!--<div style="height: 400px; width: 29%;  float:left;">
    <table class="table" style="float:right">-->
        @*@foreach (var userId in Model)*@
        <!--foreach (var userId in Model.model.Where(item => item.BuyOrSellId == 0).Select(item => item.firstName).Distinct())

        {
            <tr>
                <td style="float:right;">-->
                    @*@Html.DisplayFor(modelItem => userId.userId)<br />*@

                    @*<a href="javascript:void(0);" class="user-link" data-user-id="@userId">@userId</a><br />*@

                    @*<input type="submit" value="@userId" />*@


                    <!--<input type="submit" id="userId" value="userId" class="user-button" data-user-id="userId" />-->

                    @*<a href="javascript:void(0);" class="user-link" data-user-id="@userId">@userId</a>*@



                <!--</td>
            </tr>
            <tr></tr>
            <tr></tr>
        }
    </table>
</div>-->
<div>
    <footer style=" height: 20px; width: 100%; float:right">

        @using (Html.BeginForm("chatmap", "chat", FormMethod.Post))
        {
            <input type="submit" value="Send" id="send-button" class="send-button" style="float: right; width: 20%; padding: 10px; background-color: #007bff; border: none; color: #fff; transition:transform 0.2s ease" />

            @Html.TextArea("msg", "", new { Type = "msg", placeholder = "type message hear", id = "chat", style = "width:400px; float:right" });

            @*@Html.TextAreaFor(model => model.First().Chat1, new { @class = "form-control", placeholder = "Type your message here", rows = "4" })*@
            @*foreach (var chatMddual in Model)
                {
                    @Html.TextAreaFor(model => chatMddual.Chat1)
                }*@
        }
    </footer>
</div>

@*<div>
        @RenderPage("_chat2.cshtml");
    </div>*@
@*<script>
        // Add this JavaScript code to change the background color of rows with BuyOrSellId = 0
        document.addEventListener("DOMContentLoaded", function () {
            var rows = document.querySelectorAll("tr.light-blue-bg");
            rows.forEach(function (row) {
                row.style.backgroundColor = "blue";
            });
        });
    </script>*@
<script>
    function btnclick() {
        $("#send-button").click(function () {
            $.ajax(
                {
                    type: "post",
                    URL: "/chat/chatmap",
                    data:
                    {
                        chat: $("#chat").val()
                    },

                    success: function (da) {
                        alert(da)
                    }
                }


            );
        })
    }


</script>
@*<script>
        const click = document.getElementById().value
        function btnclick() {
            $("#send-button").click(function () {

            })
        }
    </script>*@
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>

    document.querySelectorAll('.user-button').forEach(function (button) {
        button.addEventListener('click', function () {
            var userId = this.getAttribute('data-user-id');

            alert('Selected user: ' + userId);

        });
    });
</script>
<style>

    .send-button:active {
        transform: scale(0.96)
    }


    .light-blue-bg {
        background-color: #ceddff;
        float: left;
    }

    .Scroll_bar {
        margin: 0 8px;
        z-index: 1;
        border-radius: 4px;
        border-bottom-left-radius: 0;
        line-height: 19px;
        position: relative;
        display: inline-block;
        box-sizing: border-box;
        max-width: 80%;
        font-size: 14px;
        box-shadow: none;
        word-wrap: break-word;
        height: 400px;
        width: 69%;
        font-family: inherit;
        overflow: auto;
        float: right;
        overflow-y: auto;
        box-sizing: border-box;
        padding-top: 8px;
        background-size: 200px;
    }

    .tbody {
        width: 40%;
        margin: 50px;
    }
</style>






@*<div class="Text_center">
        @Html.DropDownListFor(x=>x.User,new SelectList(Model.UserId,"value","text"),new {@class= "From_Controler"})
    </div>*@

